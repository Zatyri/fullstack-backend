{"version":3,"sources":["Components/Header.js","Components/NameList.js","Components/Filter.js","Components/PersonForm.js","services/phoneBook.js","Components/Message.js","index.js"],"names":["Header","header","NameList","persons","search","deletePerson","filteredPersons","filter","person","name","toLowerCase","nameToMatch","includes","map","key","id","number","value","onClick","Filter","handleChange","onChange","PersonForm","addName","newName","handleAddName","newNumber","handleAddNumber","onSubmit","type","baseUrl","axios","get","then","response","data","newPerson","post","delete","put","Message","message","error","style","color","background","fontSize","App","useState","setPersons","setNewName","setNewNumber","searchName","setSearchName","setMessage","setError","getDataHook","phoneBookService","useEffect","nameExcists","window","confirm","index","findIndex","idToUpdate","personToUpdate","updatedPerson","returnedPerson","setTimeout","catch","event","target","preventDefault","find","nameToAdd","updatedData","concat","idToDelete","personName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.af20dbb5.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Header = ({header}) => {\r\n    return (\r\n        <h2>\r\n            {header}\r\n        </h2>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\n\r\nconst NameList = ({persons, search, deletePerson}) => {\r\n    const filteredPersons = persons.filter(person => {\r\n        const name = person.name.toLowerCase()\r\n        const nameToMatch = search.toLowerCase()        \r\n        return name.includes(nameToMatch)\r\n        \r\n    })    \r\n    \r\n    return (\r\n        <>\r\n            {filteredPersons.map(person =>\r\n                <p key={person.id}>{person.name}: {person.number} <button value={person.name} onClick={deletePerson}>delete</button></p>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NameList\r\n","import React from 'react'\r\n\r\nconst Filter = ({search, handleChange}) => {\r\n\r\n    return (\r\n        <>\r\n          <div>filter shown with</div>  \r\n          <input value={search} onChange={handleChange}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({addName, newName, handleAddName, newNumber, handleAddNumber}) => {\r\n    return (\r\n        <>\r\n            <form onSubmit={addName}>\r\n                <div>\r\n                    name: <input value={newName} onChange={handleAddName}/>          \r\n                </div>\r\n                <div>\r\n                    number: <input value={newNumber} onChange={handleAddNumber}/>          \r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","import axios from 'axios'\r\n\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addNew = (newPerson) => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    \r\n    const request = axios.delete(`${baseUrl}/${id}`)    \r\n    \r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, addNew, remove, update }","import React from 'react'\r\n\r\nconst Message = ({message, error}) => {\r\n    const messageStyle = {\r\n        color: 'green',\r\n        background: 'lightgreen',        \r\n        fontSize: 25\r\n    }\r\n    const messageErrorStyle = {\r\n        color: 'red',\r\n        background: 'yellow',        \r\n        fontSize: 25\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <p style={error ? messageErrorStyle:messageStyle}>{message}</p>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Message\r\n","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport Header from './Components/Header'\nimport NameList from './Components/NameList'\nimport Filter from './Components/Filter'\nimport PersonForm from './Components/PersonForm';\nimport phoneBookService from './services/phoneBook'\nimport Message from './Components/Message'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([\n    { \n      name: '', \n      number: '',\n      id: ''\n    }\n  ]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [searchName, setSearchName] = useState('')\n  const [message, setMessage] = useState(null)\n  const [error, setError] = useState(false)\n\n  const getDataHook = () => {\n    phoneBookService\n      .getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  }\n  useEffect(getDataHook, [])\n\n  const addData = (newPerson) => {\n    phoneBookService\n      .addNew(newPerson)\n      .then(updatedData => {\n        setPersons(persons.concat(updatedData))\n        setMessage(`${updatedData.name} was successfully added to the phonebook`)\n        setTimeout(()=>{\n          setMessage(null)}\n          , 5000)\n      })\n      .catch(error => {\n        setError(true)\n        setMessage(`Failed to add name to the phonebook`)\n        setTimeout(()=>{\n          setMessage(null)\n          setError(false)}\n          , 5000)\n      })\n      \n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    if(persons.find(person => person.name === newName)){\n     nameExcists()\n     return null\n    }\n    const nameToAdd = {\n      name: newName,\n      number: newNumber\n    }\n    setNewName('')\n    setNewNumber('')\n    addData(nameToAdd)\n\n  }\n\n  const nameExcists = () =>{\n    const modifyNumber = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n    if(!modifyNumber){\n      return null\n    }\n    const index = persons.findIndex(person => person.name === newName)\n    const idToUpdate = persons[index].id\n    const personToUpdate = persons[index]\n    const updatedPerson = {... personToUpdate, number: newNumber }\n\n    phoneBookService\n      .update(idToUpdate, updatedPerson)\n      .then(returnedPerson => {       \n        setPersons(persons.map(person => person.id !== idToUpdate ? person : returnedPerson))\n        setMessage(`${newName} number was successfully updated to ${newNumber}`)\n        setTimeout(()=>{\n          setMessage(null)}\n          , 5000)\n      })\n      .catch(error => {\n        setError(true)\n        setMessage(`Failed to update number`)\n        setTimeout(()=>{\n          setMessage(null)\n          setError(false)}\n          , 5000)\n      })\n        setNewName('')\n        setNewNumber('')\n  }\n\n  const handleAddName = (event) => setNewName(event.target.value) \n  const handleAddNumber = (event) => setNewNumber(event.target.value)\n  const handleFilterInput = (event) => {\n    setSearchName(event.target.value)    \n  }\n  const handleDeletePerson = (event) => {\n    const confirm = window.confirm(`Delete ${event.target.value}?`)\n    if(!confirm){\n      return null\n    }\n\nconst index = persons.findIndex(person => person.name === event.target.value)\nconst idToDelete = persons[index].id\nconst personName = persons[index].name\n\n    phoneBookService\n      .remove(idToDelete)\n      .then(() => {\n        getDataHook()\n        setMessage(`${personName} was successfully deleted from the phonebook`)\n        setTimeout(()=>{\n          setMessage(null)}\n          , 5000)\n      })\n      .catch(error => {\n        setError(true)\n        setMessage(`Failed to delete contact`)\n        setTimeout(()=>{\n          setMessage(null)\n          setError(false)}\n          , 5000)\n      })\n  }\n\n\n  return (\n    <div>\n      <Header header='Phonebook' />\n      <Message message={message} error={error}/>\n      <Filter search={searchName} handleChange={handleFilterInput}/>\n      <Header header='add a new'/>\n      <PersonForm addName={addName} newName={newName} handleAddName={handleAddName} newNumber={newNumber} handleAddNumber={handleAddNumber}/>\n      <Header header='Numbers' />\n      <NameList persons={persons} search={searchName} deletePerson={handleDeletePerson}/>\n    </div>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n\n"],"sourceRoot":""}